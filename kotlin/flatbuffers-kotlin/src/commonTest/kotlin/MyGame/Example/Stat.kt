// automatically generated by the FlatBuffers compiler, do not modify

package MyGame.Example

import com.google.flatbuffers.kotlin.*
import kotlin.math.sign
@Suppress("unused")
class Stat : Table() {

    fun init(i: Int, buffer: ReadWriteBuffer) : Stat = reset(i, buffer)
    fun assign(i: Int, buffer: ReadWriteBuffer) : Stat = init(i, buffer)

    val id : String? get() = lookupField(4, null ) { string(it + bufferPos) }
    fun idAsBuffer() : ReadBuffer = vectorAsBuffer(bb, 4, 1)

    val val_ : Long get() = lookupField(6, 0L ) { bb.getLong(it + bufferPos) }

    val count : UShort get() = lookupField(8, 0u ) { bb.getShort(it + bufferPos).toUShort() }

    override fun keysCompare(o1: Int, o2: Int, buffer: ReadWriteBuffer) : Int {
        val val_1 = buffer.getShort(offset(8, o1, buffer))
        val val_2 = buffer.getShort(offset(8, o2, buffer))
        return (val_1 - val_2).sign
    }
    companion object {
        fun validateVersion() = VERSION_2_0_8

        fun asRoot(buffer: ReadWriteBuffer) : Stat = asRoot(buffer, Stat())
        fun asRoot(buffer: ReadWriteBuffer, obj: Stat) : Stat = obj.assign(buffer.getInt(buffer.limit) + buffer.limit, buffer)


        fun createStat(builder: FlatBufferBuilder, idOffset: Int, val_: Long, count: UShort) : Int {
            builder.startTable(3)
            addVal_(builder, val_)
            addId(builder, idOffset)
            addCount(builder, count)
            return endStat(builder)
        }
        fun startStat(builder: FlatBufferBuilder) = builder.startTable(3)

        fun addId(builder: FlatBufferBuilder, id: Int) = builder.addOffset(0, id, 0)

        fun addVal_(builder: FlatBufferBuilder, val_: Long) = builder.addLong(1, val_, 0L)

        fun addCount(builder: FlatBufferBuilder, count: UShort)  {
            builder.addShort(count.toShort())
            builder.slot(2)
        }

        fun endStat(builder: FlatBufferBuilder) : Int {
            val o = builder.endTable()
            return o
        }

        fun lookupByKey(obj: Stat?, vectorLocation: Int, key: UShort, bb: ReadWriteBuffer) : Stat? {
            var span = bb.getInt(vectorLocation - 4)
            var start = 0
            while (span != 0) {
                var middle = span / 2
                val tableOffset = indirect(vectorLocation + 4 * (start + middle), bb)
                val value = bb.getShort(offset(8, bb.capacity - tableOffset, bb)).toUShort()
                val comp = value.compareTo(key)
                when {
                    comp > 0 -> span = middle
                    comp < 0 -> {
                        middle++
                        start += middle
                        span -= middle
                    }
                    else -> {
                        return (obj ?: Stat()).assign(tableOffset, bb)
                    }
                }
            }
            return null
        }
    }
}
